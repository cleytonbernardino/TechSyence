syntax = "proto3";

package TechSyence.Communication;

message RequestWhatsAppMessage {
    string object = 1;
    repeated WhatsAppEntryRequest entry = 2;
}

message WhatsAppEntryRequest {
    string id = 1;
    repeated WhatsAppChangesRequest changes = 2;
}

message WhatsAppChangesRequest {
    string field = 1;
    WhatsAppValueRequest value = 2;
}

message WhatsAppMetaDataRequest {
    string display_phone = 1;
    string phone_number_id = 2;
}

message WhatsAppProfileObject {
    string name = 1;
}

message WhatsAppContactsRequest {
    WhatsAppProfileObject profile = 1;
    string wa_id = 2;
}

message WhatsAppTextObject {
    string body = 1;
}

message WhatsAppContextObject {
    string from = 1;
    string id = 2;
}

message WhatsAppMessagesRequest {
    string from = 1;
    string id = 2;
    WhatsAppContextObject context = 3;
    string timestamp = 4;
    string type = 5;
    optional WhatsAppTextObject text = 6;
}

message WhatsAppValueRequest {
    string messaging_product = 1;
    WhatsAppMetaDataRequest meta_data = 2;
    repeated WhatsAppContactsRequest contacts = 3;
    repeated WhatsAppMessagesRequest messages = 4;
}